<?php class Contacto extends Controlador{public function __construct(){parent::__construct();}public function renderizar($vista="contacto"){$this->mostrarVista($vista);}public function enviarcorreo(){$res=["msg"=>"¡Ocurrio un error inesperado!","type"=>"error"];if(isset($_POST["nombre"])&&isset($_POST['email'])&&isset($_POST['telefono'])&&isset($_POST['mensaje'])){$Nombre=$_POST['nombre'];$Email=$_POST['email'];$Telefono=$_POST['telefono'];$Mensaje=$_POST['mensaje'];if($Nombre==''||$Email==''||$Telefono==''||!is_numeric($Telefono)||strlen($Telefono)!=9||$Mensaje==''){$res['msg']="Datos erróneos, porfavor vuelva a llenar los campos";}else{require 'controladores/mailer/PHPMailerAutoload.php';require 'controladores/mailer/class.phpmailer.php';require 'controladores/mailer/class.smtp.php';$mail=new PHPMailer();$mail->setFrom($Email,$Nombre);$mail->addAddress('digi.mediamkt@gmail.com');$mail->addReplyTo($Email,$Nombre);$mail->WordWrap=50;$mail->IsHTML(true);$mail->Subject='Enviado por '.$Nombre;$mail->Body="Nombre: ".$Nombre.".<br>\n                            Correo: ".$Email.".<br>\n                            Telefono: ".$Telefono.".<br>\n                            Mensaje: ".$Mensaje."<br><br>\n                            <strong>Mensaje del Desarrollador</strong>: Click al boton ''Responder'' para escribir un mensaje a ".$Email.".";$mail->IsSMTP();$mail->CharSet='UTF-8';$mail->SMTPAuth=true;$mail->SMTPSecure="ssl";$mail->Host="mail.neonhouseled.com";$mail->Port=465;$mail->Username='postula@neonhouseled.com';$mail->Password='n37qO#Ua7Dl%';if($mail->Send()){$res['msg']="¡Muchas gracias por contactarnos!";$res['type']="success";}else{$res['msg']="¡Ocurrió un error inesperado!";}}echo json_encode($res);}else{echo json_encode($res);}}} ?>